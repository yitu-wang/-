"use strict";(self["webpackChunkwymusic"]=self["webpackChunkwymusic"]||[]).push([[812],{9028:function(t,s,a){a.d(s,{Z:function(){return m}});var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"center"},[t._m(0),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.playListMusic,stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),a("el-table-column",{attrs:{label:"歌名",width:"200"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("div",{staticClass:"musicItem",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.$router.push({path:"/discover/music",query:{id:s.row.id}})}}},[t._v(" "+t._s(s.row.name)+" ")])]}}])}),a("el-table-column",{attrs:{label:"作者",width:"200"},scopedSlots:t._u([{key:"default",fn:function(s){return[t.program?a("div",{staticClass:"musicItem",on:{click:function(a){return t.$router.push({path:"/discover/singer",query:{id:s.row.artists[0].id}})}}},[t._v(" "+t._s(s.row.artists[0].name)+" ")]):a("div",{staticClass:"musicItem",on:{click:function(a){return t.$router.push({path:"/discover/singer",query:{id:s.row.ar[0].id}})}}},[t._v(" "+t._s(s.row.ar[0].name)+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("i",{staticClass:"el-icon-video-play",attrs:{title:"播放"},on:{click:function(a){return t.musicItemPush(s.$index)}}}),a("i",{staticClass:"el-icon-share",attrs:{title:"分享"}}),a("i",{staticClass:"el-icon-download",attrs:{title:"下载"}})]}}])})],1)],1)},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"header"},[a("h3",[t._v("歌曲列表")])])}],n=a(5598),c=a(629),l={data(){return{}},props:{playListMusic:{type:Array,deep:!0},program:{type:Boolean}},methods:{...(0,c.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"]),async musicItemPush(t){let s=this.playListMusic[t].id;const a=await(0,n._z)({id:s});this.musicUrlFn(a.data.data[0]);const i=await(0,n.Hk)({ids:s});this.musicDetailFn(i.data.songs[0]),this.musicItemFn(i.data.songs[0])}}},r=l,o=a(1001),u=(0,o.Z)(r,i,e,!1,null,"32c6347d",null),m=u.exports},6812:function(t,s,a){a.r(s),a.d(s,{default:function(){return d}});var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"box"},[a("div",{staticClass:"container"},[a("div",{staticClass:"left"},[a("div",{staticClass:"header"},[t.flag?a("div",{staticClass:"left"},[a("img",{attrs:{src:t.playDetail.coverImgUrl,alt:""}})]):t._e(),a("div",{staticClass:"right"},[a("h3",[t._v(t._s(t.playDetail.name))]),t.flag?a("div",{staticClass:"auther"},[a("img",{attrs:{src:t.playDetail.creator.avatarUrl,alt:""}}),a("p",[t._v(t._s(t.playDetail.creator.nickname))])]):t._e(),a("div",{staticClass:"btn"},[a("button",[a("i",{staticClass:"el-icon-video-play",on:{click:t.playMusicFn}},[t._v(" 播放")])]),t._m(0),t._m(1),a("button",[a("i",{staticClass:"el-icon-chat-line-square"},[t._v(" ("+t._s(t.playDetail.commentCount)+")")])])]),t.playDetail.tags!=[]?a("div",{staticClass:"tip"},[a("p",[t._v("标签 :")]),t._l(t.playDetail.tags,(function(s,i){return a("button",{key:i+"tags"},[t._v(" "+t._s(s)+" ")])}))],2):t._e(),t.flag?a("p",{staticClass:"text",domProps:{innerHTML:t._s(t.playDetail.creator.signature)}}):t._e()])]),a("MusicList",{attrs:{playListMusic:t.playListMusic}}),a("div",{staticClass:"footer center"},[t._m(2),a("div",{staticClass:"userText"},[a("img",{attrs:{src:t.squareUrl,alt:""}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"usertext",cols:"30",rows:"10"},domProps:{value:t.content},on:{input:function(s){s.target.composing||(t.content=s.target.value)}}}),a("button",{on:{click:t.addCommentFn}},[t._v("评论")])]),t.commentList.hotComments?a("div",{staticClass:"footer"},[a("h4",[t._v("最热评论("+t._s(t.commentList.hotComments.length)+")")]),a("ul",t._l(t.commentList.hotComments,(function(s){return a("li",{key:s.commentId},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}}),a("p",{staticClass:"name"},[t._v(t._s(s.user.nickname))]),a("span",{staticClass:"content"},[t._v(t._s(s.content))]),a("span",{staticClass:"time"},[t._v(t._s(s.timeStr))]),a("div",{staticClass:"fun"},[a("i",{staticClass:"el-icon-thumb"}),a("span",{staticClass:"back"},[t._v("("+t._s(s.likedCount)+") | 回复")])])])})),0),a("h4",[t._v("最新评论("+t._s(t.commentList.comments.length)+")")]),a("ul",t._l(t.commentList.comments,(function(s){return a("li",{key:s.commentId},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}}),a("p",{staticClass:"name"},[t._v(t._s(s.user.nickname))]),a("span",{staticClass:"content"},[t._v(t._s(s.content))]),a("span",{staticClass:"time"},[t._v(t._s(s.timeStr))]),a("div",{staticClass:"fun"},[a("i",{staticClass:"el-icon-thumb"}),a("span",{staticClass:"back"},[t._v("("+t._s(s.likedCount)+") | 回复")])])])})),0)]):t._e()])],1)])])},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("button",[a("i",{staticClass:"el-icon-folder-add"})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("button",[a("i",{staticClass:"el-icon-share"})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"header"},[a("h3",[t._v("评论")])])}],n=a(5598),c=a(629),l=a(9028),r={name:"myPlayList",data(){return{content:"",playDetail:{},commentList:[],playListMusic:[],flag:!1}},components:{MusicList:l.Z},async created(){let t=this.$route.query.id;const s=await(0,n.Gj)({id:t});this.playDetail=s.data.playlist,this.flag=!0;const a=await(0,n.L5)({id:t});this.commentList=a.data;const i=await(0,n.d6)({id:t});this.playListMusic=i.data.songs;s.data.playlist.trackIds},methods:{...(0,c.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"]),formatDate(t){let s=new Date(t),a=s.getFullYear(),i=s.getMonth(),e=s.getDate();s.getHours(),s.getMinutes(),s.getSeconds();return a+"-"+i+"-"+e},async playMusicFn(){this.clearMusicListFn(),this.musicListFn(this.playListMusic);let t=this.playListMusic[0].id;const s=await(0,n._z)({id:t});this.musicUrlFn(s.data.data[0]);const a=await(0,n.Hk)({ids:t});this.musicDetailFn(a.data.songs[0]),this.musicItemFn(a.data.songs[0])},async addCommentFn(){if(""!=this.content){let t=this.$route.query.id;await(0,n.Sj)({type:2,id:t,content:this.content});this.content="",localStorage.getItem("userid")?this.$notify({message:"评论成功",type:"success"}):this.$notify.error({message:"评论失败"})}}},computed:{...(0,c.rn)(["squareUrl"])},watch:{async"$route.query.id"(){if(this.$route.query.id){let t=this.$route.query.id;const s=await(0,n.Gj)({id:t});this.playDetail=s.data.playlist,this.flag=!0;const a=await(0,n.L5)({id:t});this.commentList=a.data;const i=await(0,n.d6)({id:t});this.playListMusic=i.data.songs}}}},o=r,u=a(1001),m=(0,u.Z)(o,i,e,!1,null,"cbe4e828",null),d=m.exports}}]);
//# sourceMappingURL=812.34430ec4.js.map