"use strict";(self["webpackChunkwymusic"]=self["webpackChunkwymusic"]||[]).push([[508],{9028:function(t,s,i){i.d(s,{Z:function(){return m}});var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"center"},[t._m(0),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.playListMusic,stripe:""}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),i("el-table-column",{attrs:{label:"歌名",width:"200"},scopedSlots:t._u([{key:"default",fn:function(s){return[i("div",{staticClass:"musicItem",staticStyle:{cursor:"pointer"},on:{click:function(i){return t.$router.push({path:"/discover/music",query:{id:s.row.id}})}}},[t._v(" "+t._s(s.row.name)+" ")])]}}])}),i("el-table-column",{attrs:{label:"作者",width:"200"},scopedSlots:t._u([{key:"default",fn:function(s){return[t.program?i("div",{staticClass:"musicItem",on:{click:function(i){return t.$router.push({path:"/discover/singer",query:{id:s.row.artists[0].id}})}}},[t._v(" "+t._s(s.row.artists[0].name)+" ")]):i("div",{staticClass:"musicItem",on:{click:function(i){return t.$router.push({path:"/discover/singer",query:{id:s.row.ar[0].id}})}}},[t._v(" "+t._s(s.row.ar[0].name)+" ")])]}}])}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(s){return[i("i",{staticClass:"el-icon-video-play",attrs:{title:"播放"},on:{click:function(i){return t.musicItemPush(s.$index)}}}),i("i",{staticClass:"el-icon-share",attrs:{title:"分享"}}),i("i",{staticClass:"el-icon-download",attrs:{title:"下载"}})]}}])})],1)],1)},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"header"},[i("h3",[t._v("歌曲列表")])])}],n=i(5598),c=i(629),l={data(){return{}},props:{playListMusic:{type:Array,deep:!0},program:{type:Boolean}},methods:{...(0,c.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"]),async musicItemPush(t){let s=this.playListMusic[t].id;const i=await(0,n._z)({id:s});this.musicUrlFn(i.data.data[0]);const a=await(0,n.Hk)({ids:s});this.musicDetailFn(a.data.songs[0]),this.musicItemFn(a.data.songs[0])}}},r=l,o=i(1001),u=(0,o.Z)(r,a,e,!1,null,"32c6347d",null),m=u.exports},7508:function(t,s,i){i.r(s),i.d(s,{default:function(){return m}});var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"box"},[i("div",{staticClass:"container"},[i("div",{staticClass:"left"},[i("div",{staticClass:"header"},[t.musicDetil.al?i("div",{staticClass:"left"},[i("img",{attrs:{src:t.musicDetil.al.picUrl,alt:""}})]):t._e(),t.musicDetil.ar?i("div",{staticClass:"right"},[i("h3",[t._v(t._s(t.musicDetil.name))]),i("div",{staticClass:"auther"},[i("p",[t._v("歌手:"+t._s(t.musicDetil.ar[0].name))]),i("p",[t._v("所属专辑:"+t._s(t.musicDetil.al.name))])]),i("div",{staticClass:"btn"},[i("button",[i("i",{staticClass:"el-icon-video-play",on:{click:t.playMusicFn}},[t._v(" 播放")])]),t._m(0),t._m(1),i("button",[i("i",{staticClass:"el-icon-chat-line-square"},[t._v(" ("+t._s(t.total)+")")])])]),i("p",{staticClass:"text",staticStyle:{"white-space":"pre-wrap"},domProps:{innerHTML:t._s(t.musicLyric)}})]):t._e()]),i("div",{staticClass:"footer center"},[i("div",{staticClass:"header"},[i("h3",[t._v("评论")]),i("span",[t._v("共"+t._s(t.total)+"条评论")])]),i("div",{staticClass:"userText"},[i("img",{attrs:{src:t.squareUrl,alt:""}}),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"usertext",cols:"30",rows:"10"},domProps:{value:t.content},on:{input:function(s){s.target.composing||(t.content=s.target.value)}}}),i("button",{on:{click:t.addCommentFn}},[t._v("评论")])]),i("div",{staticClass:"footer"},[i("h4",[t._v("最热评论("+t._s(t.hotcomment.length)+")")]),i("ul",t._l(t.hotcomment,(function(s){return i("li",{key:s.commentId},[i("img",{attrs:{src:s.user.avatarUrl,alt:""}}),i("p",{staticClass:"name"},[t._v(t._s(s.user.nickname))]),i("span",{staticClass:"content"},[t._v(t._s(s.content))]),i("span",{staticClass:"time"},[t._v(t._s(s.timeStr))]),i("div",{staticClass:"fun"},[i("i",{staticClass:"el-icon-thumb"}),i("span",{staticClass:"back"},[t._v("("+t._s(s.likedCount)+") | 回复")])])])})),0),i("h4",[t._v("最新评论")]),i("ul",t._l(t.newcomment,(function(s){return i("li",{key:s.commentId},[i("img",{attrs:{src:s.user.avatarUrl,alt:""}}),i("p",{staticClass:"name"},[t._v(t._s(s.user.nickname))]),i("span",{staticClass:"content"},[t._v(t._s(s.content))]),i("span",{staticClass:"time"},[t._v(t._s(s.timeStr))]),i("div",{staticClass:"fun"},[i("i",{staticClass:"el-icon-thumb"}),i("span",{staticClass:"back"},[t._v("("+t._s(s.likedCount)+") | 回复")])])])})),0)])])]),i("div",{staticClass:"right"},[i("h4",[t._v("   包含这首歌的歌单")]),i("ul",t._l(t.sameList,(function(s){return i("li",{key:s.id,on:{click:function(i){return t.$router.push({path:"/discover/playdetil",query:{id:s.id}})}}},[i("img",{attrs:{src:s.coverImgUrl,alt:""}}),i("h5",[t._v(t._s(s.name))]),i("span",[t._v("by:"+t._s(s.creator.nickname))])])})),0),i("h4",[t._v("   相似歌曲")]),i("ul",t._l(t.sameMusic,(function(s){return i("li",{key:s.id},[i("img",{attrs:{src:s.album.blurPicUrl,alt:""},on:{click:function(i){return t.$router.push({path:"/discover/music",query:{id:s.id}})}}}),i("h5",[t._v(t._s(s.name))]),t._m(2,!0)])})),0)])])])},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("button",[i("i",{staticClass:"el-icon-folder-add"})])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("button",[i("i",{staticClass:"el-icon-share"})])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("span",[t._v("播放"),i("i",{staticClass:"el-icon-caret-right"})])}],n=i(5598),c=i(629),l=(i(9028),{name:"musicDetil",data(){return{musicLyric:"",musicDetil:{},hotcomment:[],newcomment:[],total:0,sameList:[],sameMusic:[],content:""}},methods:{...(0,c.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"]),async playMusicFn(){let t=this.$route.query.id;const s=await(0,n._z)({id:t});this.musicUrlFn(s.data.data[0]);const i=await(0,n.Hk)({ids:t});this.musicDetailFn(i.data.songs[0]),this.musicItemFn(i.data.songs[0])},async getData(){let t=this.$route.query.id;const s=await(0,n.Hk)({ids:t});this.musicDetil=s.data.songs[0];const i=await(0,n.NW)({id:t});let a=i.data.lrc.lyric.split("\n"),e=[];a.forEach((t=>{e.push(t.slice(11))})),a=e.join("\n"),this.musicLyric=a;const c=await(0,n.AM)({id:t});this.hotcomment=c.data.hotComments,this.newcomment=c.data.comments,this.total=c.data.total;const l=await(0,n.f8)({id:t});this.sameList=l.data.playlists;const r=await(0,n.HT)({id:t});this.sameMusic=r.data.songs},async addCommentFn(){if(""!=this.content){let t=this.$route.query.id;await(0,n.Sj)({type:0,id:t,content:this.content});this.content="";const s=await(0,n.AM)({id:t});this.hotcomment=s.data.hotComments,this.newcomment=s.data.comments,this.total=s.data.total,localStorage.getItem("userid")?this.$notify({message:"评论成功",type:"success"}):this.$notify.error({message:"评论失败,请先登录"})}}},async created(){this.getData()},activated(){this.getData()},computed:{...(0,c.rn)(["squareUrl"])}}),r=l,o=i(1001),u=(0,o.Z)(r,a,e,!1,null,"30e453b0",null),m=u.exports}}]);
//# sourceMappingURL=508.3c1f5c34.js.map