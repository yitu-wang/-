"use strict";(self["webpackChunkwymusic"]=self["webpackChunkwymusic"]||[]).push([[148],{9028:function(t,e,s){s.d(e,{Z:function(){return v}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"center"},[t._m(0),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.playListMusic,stripe:""}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),s("el-table-column",{attrs:{label:"歌名",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"musicItem",staticStyle:{cursor:"pointer"},on:{click:function(s){return t.$router.push({path:"/discover/music",query:{id:e.row.id}})}}},[t._v(" "+t._s(e.row.name)+" ")])]}}])}),s("el-table-column",{attrs:{label:"作者",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.program?s("div",{staticClass:"musicItem",on:{click:function(s){return t.$router.push({path:"/discover/singer",query:{id:e.row.artists[0].id}})}}},[t._v(" "+t._s(e.row.artists[0].name)+" ")]):s("div",{staticClass:"musicItem",on:{click:function(s){return t.$router.push({path:"/discover/singer",query:{id:e.row.ar[0].id}})}}},[t._v(" "+t._s(e.row.ar[0].name)+" ")])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("i",{staticClass:"el-icon-video-play",attrs:{title:"播放"},on:{click:function(s){return t.musicItemPush(e.$index)}}}),s("i",{staticClass:"el-icon-share",attrs:{title:"分享"}}),s("i",{staticClass:"el-icon-download",attrs:{title:"下载"}})]}}])})],1)],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("h3",[t._v("歌曲列表")])])}],r=s(1863),i=s(9873),c=s(1797),o=s(5598),u=s(629),l={data:function(){return{}},props:{playListMusic:{type:Array,deep:!0},program:{type:Boolean}},methods:(0,c.Z)((0,c.Z)({},(0,u.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"])),{},{musicItemPush:function(t){var e=this;return(0,i.Z)((0,r.Z)().mark((function s(){var a,n,i;return(0,r.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.playListMusic[t].id,s.next=3,(0,o._z)({id:a});case 3:return n=s.sent,e.musicUrlFn(n.data.data[0]),s.next=7,(0,o.Hk)({ids:a});case 7:i=s.sent,e.musicDetailFn(i.data.songs[0]),e.musicItemFn(i.data.songs[0]);case 10:case"end":return s.stop()}}),s)})))()}})},m=l,d=s(1001),p=(0,d.Z)(m,a,n,!1,null,"32c6347d",null),v=p.exports},2148:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[t.flag?s("div",{staticClass:"container"},[s("div",{staticClass:"left"},[s("div",{staticClass:"header"},[s("div",{staticClass:"left"},[s("img",{attrs:{src:t.programData.coverUrl,alt:"a"}})]),s("div",{staticClass:"right"},[s("h3",[t._v(t._s(t.programData.name))]),s("div",{staticClass:"auther"},[t.programData.dj.brand?s("p",[t._v(t._s(t.programData.dj.brand))]):t._e()]),s("div",{staticClass:"btn"},[s("button",[s("i",{staticClass:"el-icon-video-play",on:{click:t.playMusicFn}},[t._v(" 播放")])]),t._m(0),s("button",[s("i",{staticClass:"el-icon-share"},[t._v(" ("+t._s(t.programData.shareCount)+") ")])]),t._m(1)]),s("p",{staticClass:"text",domProps:{innerHTML:t._s(t.programData.description)}})])]),s("MusicList",{attrs:{playListMusic:t.programData.songs,program:!0}}),s("div",{staticClass:"footer center"},[t._m(2),s("div",{staticClass:"userText"},[s("img",{attrs:{src:t.squareUrl,alt:""}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"usertext",cols:"30",rows:"10"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),s("button",{on:{click:t.addCommentFn}},[t._v("评论")])]),s("div",{staticClass:"footer"},[s("h4",[t._v("最热评论("+t._s(t.proComment.hotComments.length)+")")]),s("ul",t._l(t.proComment.hotComments,(function(e){return s("li",{key:e.commentId},[s("img",{attrs:{src:e.user.avatarUrl,alt:""}}),s("p",{staticClass:"name"},[t._v(" "+t._s(e.user.nickname)+" ")]),s("span",{staticClass:"content"},[t._v(t._s(e.content))]),s("span",{staticClass:"time"},[t._v(t._s(e.timeStr))]),s("div",{staticClass:"fun"},[s("i",{staticClass:"el-icon-thumb"}),s("span",{staticClass:"back"},[t._v("("+t._s(e.likedCount)+") | 回复")])])])})),0),s("h4",[t._v("最新评论("+t._s(t.proComment.comments.length)+")")]),s("ul",t._l(t.proComment.comments,(function(e){return s("li",{key:e.commentId},[s("img",{attrs:{src:e.user.avatarUrl,alt:""}}),s("p",{staticClass:"name"},[t._v(" "+t._s(e.user.nickname)+" ")]),s("span",{staticClass:"content"},[t._v(t._s(e.content))]),s("span",{staticClass:"time"},[t._v(t._s(e.timeStr))]),s("div",{staticClass:"fun"},[s("i",{staticClass:"el-icon-thumb"}),s("span",{staticClass:"back"},[t._v("("+t._s(e.likedCount)+") | 回复")])])])})),0)])])],1)]):t._e()])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",[s("i",{staticClass:"el-icon-folder-add"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",[s("i",{staticClass:"el-icon-chat-line-square"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("h3",[t._v("评论")])])}],r=s(1797),i=s(1863),c=s(9873),o=s(5598),u=s(629),l=s(9028),m={name:"playDetilitem",data:function(){return{programData:{},proComment:[],flag:!1,content:""}},components:{MusicList:l.Z},created:function(){var t=this;return(0,c.Z)((0,i.Z)().mark((function e(){var s,a;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.c$)({id:t.$route.query.id});case 2:return s=e.sent,t.programData=s.data.program,e.next=6,(0,o.AW)({id:t.$route.query.id});case 6:a=e.sent,t.proComment=a.data,t.flag=!0;case 9:case"end":return e.stop()}}),e)})))()},methods:(0,r.Z)((0,r.Z)({},(0,u.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"])),{},{playMusicFn:function(){var t=this;return(0,c.Z)((0,i.Z)().mark((function e(){var s,a,n;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.programData.songs.length>0)){e.next=14;break}return t.clearMusicListFn(),s=t.programData.songs[0].id,e.next=5,(0,o._z)({id:s});case 5:return a=e.sent,t.musicUrlFn(a.data.data[0]),e.next=9,(0,o.Hk)({ids:s});case 9:n=e.sent,t.musicDetailFn(n.data.songs[0]),t.musicItemFn(n.data.songs[0]),e.next=15;break;case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e)})))()},addCommentFn:function(){var t=this;return(0,c.Z)((0,i.Z)().mark((function e(){var s,a;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""==t.content){e.next=11;break}return s=t.$route.query.id,e.next=4,(0,o.Sj)({type:0,id:s,content:t.content});case 4:return e.sent,t.content="",localStorage.getItem("userid")?t.$notify({message:"评论成功",type:"success"}):t.$notify.error({message:"评论失败,请登录"}),e.next=9,(0,o.AW)({id:s});case 9:a=e.sent,t.proComment=a.data;case 11:case"end":return e.stop()}}),e)})))()}}),computed:(0,r.Z)({},(0,u.rn)(["squareUrl"]))},d=m,p=s(1001),v=(0,p.Z)(d,a,n,!1,null,"32e4a430",null),f=v.exports}}]);
//# sourceMappingURL=148-legacy.880e2b55.js.map