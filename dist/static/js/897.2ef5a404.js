"use strict";(self["webpackChunkwymusic"]=self["webpackChunkwymusic"]||[]).push([[897],{1388:function(t,a,e){e.d(a,{Z:function(){return o}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("img",{attrs:{src:t.item.blurPicUrl}}),e("a",{attrs:{href:"javascript:;"}}),e("p",[t._v(t._s(t.item.name))]),e("p",[t._v(t._s(t.item.artist.name))])])},i=[],l={name:"albumItem",props:{item:{}}},n=l,r=e(1001),u=(0,r.Z)(n,s,i,!1,null,"770d0fb8",null),o=u.exports},3897:function(t,a,e){e.r(a),e.d(a,{default:function(){return m}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"album"},[e("div",{staticClass:"hot"},[e("h3",[t._v("热门新碟")]),t.flag?e("el-skeleton",{attrs:{rows:6,animated:""}}):t._e(),e("ul",t._l(t.albumHotList,(function(a){return e("li",{key:a.id,on:{click:function(e){return t.$router.push({path:"/discover/albumdetail",query:{id:a.id}})}}},[e("albumItem",{staticClass:"albumItem",attrs:{item:a}})],1)})),0)],1),e("div",{staticClass:"hot"},[e("h3",[t._v(" 全部新碟 "),t._l(t.catList,(function(a,s){return e("span",{key:s,class:{check:s===t.idx},on:{click:function(e){return t.checkCatFn(s,a)}}},[t._v(t._s(a))])}))],2),t.flag?e("el-skeleton",{attrs:{rows:7,animated:""}}):t._e(),e("ul",t._l(t.tolAlbumList,(function(a){return e("li",{key:a.id,on:{click:function(e){return t.$router.push({path:"/discover/albumdetail",query:{id:a.id}})}}},[e("albumItem",{staticClass:"albumItem",attrs:{item:a}})],1)})),0),e("el-pagination",{attrs:{"page-size":20,"current-page":t.pages,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.changeFn}})],1)])},i=[],l=e(5598),n=e(1388),r={components:{albumItem:n.Z},async created(){const t=await(0,l.Om)({limit:10,type:"hot"});this.albumHotList=t.data.weekData.slice(0,10);const a=await(0,l.p1)({limit:20,offset:0});this.tolAlbumList=a.data.albums,this.total=a.data.total,this.flag=!1},data(){return{albumHotList:[],tolAlbumList:[],total:0,offset:0,catList:["全部","华语","欧美","韩国","日本"],idx:0,area:"ALL",pages:1,flag:!0}},methods:{async changeFn(t){this.pages=t,this.offset=t-1;const a=await(0,l.p1)({limit:20,offset:20*this.offset,area:this.area});this.total=a.data.total,this.tolAlbumList=a.data.albums},async checkCatFn(t,a){this.pages=1,this.idx=t,"华语"==a?this.area="ZH":"全部"==a?this.area="ALL":"欧美"==a?this.area="EA":"韩国"==a?this.area="KR":"日本"==a&&(this.area="JP");const e=await(0,l.p1)({limit:20,offset:20*this.offset,area:this.area});this.total=e.data.total,this.tolAlbumList=e.data.albums}}},u=r,o=e(1001),c=(0,o.Z)(u,s,i,!1,null,"ba65d676",null),m=c.exports}}]);
//# sourceMappingURL=897.2ef5a404.js.map