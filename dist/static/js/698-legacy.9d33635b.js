"use strict";(self["webpackChunkwymusic"]=self["webpackChunkwymusic"]||[]).push([[698],{9028:function(t,a,s){s.d(a,{Z:function(){return v}});var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"center"},[t._m(0),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.playListMusic,stripe:""}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),s("el-table-column",{attrs:{label:"歌名",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("div",{staticClass:"musicItem",staticStyle:{cursor:"pointer"},on:{click:function(s){return t.$router.push({path:"/discover/music",query:{id:a.row.id}})}}},[t._v(" "+t._s(a.row.name)+" ")])]}}])}),s("el-table-column",{attrs:{label:"作者",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[t.program?s("div",{staticClass:"musicItem",on:{click:function(s){return t.$router.push({path:"/discover/singer",query:{id:a.row.artists[0].id}})}}},[t._v(" "+t._s(a.row.artists[0].name)+" ")]):s("div",{staticClass:"musicItem",on:{click:function(s){return t.$router.push({path:"/discover/singer",query:{id:a.row.ar[0].id}})}}},[t._v(" "+t._s(a.row.ar[0].name)+" ")])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("i",{staticClass:"el-icon-video-play",attrs:{title:"播放"},on:{click:function(s){return t.musicItemPush(a.$index)}}}),s("i",{staticClass:"el-icon-share",attrs:{title:"分享"}}),s("i",{staticClass:"el-icon-download",attrs:{title:"下载"}})]}}])})],1)],1)},n=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header"},[s("h3",[t._v("歌曲列表")])])}],i=s(1863),r=s(9873),u=s(1797),c=s(5598),l=s(629),o={data:function(){return{}},props:{playListMusic:{type:Array,deep:!0},program:{type:Boolean}},methods:(0,u.Z)((0,u.Z)({},(0,l.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"])),{},{musicItemPush:function(t){var a=this;return(0,r.Z)((0,i.Z)().mark((function s(){var e,n,r;return(0,i.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e=a.playListMusic[t].id,s.next=3,(0,c._z)({id:e});case 3:return n=s.sent,a.musicUrlFn(n.data.data[0]),s.next=7,(0,c.Hk)({ids:e});case 7:r=s.sent,a.musicDetailFn(r.data.songs[0]),a.musicItemFn(r.data.songs[0]);case 10:case"end":return s.stop()}}),s)})))()}})},m=o,d=s(1001),p=(0,d.Z)(m,e,n,!1,null,"32c6347d",null),v=p.exports},6698:function(t,a,s){s.r(a),s.d(a,{default:function(){return y}});var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"box"},[t.isShow?s("AlbumDetilItem",{attrs:{otherAlbum:t.otherAlbum,albumData:t.albumData,albumComment:t.albumComment}}):t._e()],1)},n=[],i=s(1863),r=s(9873),u=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"box"},[s("div",{staticClass:"container"},[s("div",{staticClass:"left"},[s("div",{staticClass:"header"},[s("div",{staticClass:"left"},[s("span",{staticClass:"msk"},[s("img",{attrs:{src:t.albumData.album.blurPicUrl,alt:""}})])]),s("div",{staticClass:"right"},[s("h3",[t._v(t._s(t.albumData.album.name))]),s("div",{staticClass:"auther"},[s("p",[t._v("歌手: "+t._s(t.albumData.album.artist.name))]),s("p",[t._v("发行时间: "+t._s(t.formatDate(t.albumData.album.publishTime)))]),s("p",[t._v("发行公司: "+t._s(t.albumData.album.company))])]),s("div",{staticClass:"btn"},[s("button",[s("i",{staticClass:"el-icon-video-play",on:{click:t.playMusicFn}},[t._v(" 播放")])]),s("button",[s("i",{staticClass:"el-icon-folder-add"},[t._v(" ("+t._s(t.albumData.album.info.commentCount)+")")])]),t._m(0),s("button",[s("i",{staticClass:"el-icon-chat-line-square"},[t._v(" ("+t._s(t.albumComment.total)+")")])])]),s("p",{staticClass:"text",domProps:{innerHTML:t._s(t.albumData.album.description)}})])]),s("MusicList",{attrs:{playListMusic:t.albumData.songs}}),s("div",{staticClass:"footer center"},[s("div",{staticClass:"header"},[s("h3",[t._v("评论")]),s("span",[t._v("共"+t._s(t.albumComment.total)+"条评论")])]),s("div",{staticClass:"userText"},[s("img",{attrs:{src:t.squareUrl,alt:""}}),s("textarea",{attrs:{name:"usertext",cols:"30",rows:"10"}}),s("button",[t._v("评论")])]),s("div",{staticClass:"footer"},[s("h4",[t._v("最热评论("+t._s(t.albumComment.hotComments.length)+")")]),s("ul",t._l(t.albumComment.hotComments,(function(a){return s("li",{key:a.commentId},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}}),s("p",{staticClass:"name"},[t._v(t._s(a.user.nickname))]),s("span",{staticClass:"content"},[t._v(t._s(a.content))]),s("span",{staticClass:"time"},[t._v(t._s(a.timeStr))]),s("div",{staticClass:"fun"},[s("i",{staticClass:"el-icon-thumb"}),s("span",{staticClass:"back"},[t._v("("+t._s(a.likedCount)+") | 回复")])])])})),0),s("h4",[t._v("最新评论("+t._s(t.albumComment.comments.length)+")")]),s("ul",t._l(t.albumComment.comments,(function(a){return s("li",{key:a.commentId},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}}),s("p",{staticClass:"name"},[t._v(t._s(a.user.nickname))]),s("span",{staticClass:"content"},[t._v(t._s(a.content))]),s("span",{staticClass:"time"},[t._v(t._s(a.timeStr))]),s("div",{staticClass:"fun"},[s("i",{staticClass:"el-icon-thumb"}),s("span",{staticClass:"back"},[t._v("("+t._s(a.likedCount)+") | 回复")])])])})),0)])])],1),s("div",{staticClass:"right"},[s("h4",[t._v("   他/她的其他专辑")]),s("ul",t._l(t.otherAlbum,(function(a){return s("li",{key:a.id,on:{click:function(s){return t.$router.push({path:"/discover/albumdetail",query:{id:a.id}})}}},[s("img",{attrs:{src:a.picUrl,alt:""}}),s("h5",[t._v(t._s(a.name))]),s("span",[t._v(t._s(a.company))])])})),0)])])])},c=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",[s("i",{staticClass:"el-icon-share"})])}],l=s(1797),o=s(9028),m=s(5598),d=s(629),p={data:function(){return{}},components:{MusicList:o.Z},props:{albumData:{type:Object,deep:!0},albumComment:{type:Object,deep:!0},otherAlbum:{type:Array,deep:!0}},methods:(0,l.Z)((0,l.Z)({},(0,d.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"])),{},{formatDate:function(t){var a=new Date(t),s=a.getFullYear(),e=a.getMonth(),n=a.getDate();a.getHours(),a.getMinutes(),a.getSeconds();return s+"-"+e+"-"+n},playMusicFn:function(){var t=this;return(0,r.Z)((0,i.Z)().mark((function a(){var s,e,n;return(0,i.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.clearMusicListFn(),t.musicListFn(t.albumData.songs),s=t.albumData.songs[0].id,a.next=5,(0,m._z)({id:s});case 5:return e=a.sent,t.musicUrlFn(e.data.data[0]),a.next=9,(0,m.Hk)({ids:s});case 9:n=a.sent,t.musicDetailFn(n.data.songs[0]),t.musicItemFn(n.data.songs[0]);case 12:case"end":return a.stop()}}),a)})))()},musicItemPush:function(t){var a=this;return(0,r.Z)((0,i.Z)().mark((function s(){var e,n,r;return(0,i.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e=a.albumData.songs[t].id,s.next=3,(0,m._z)({id:e});case 3:return n=s.sent,a.musicUrlFn(n.data.data[0]),s.next=7,(0,m.Hk)({ids:e});case 7:r=s.sent,a.musicDetailFn(r.data.songs[0]),a.musicItemFn(r.data.songs[0]);case 10:case"end":return s.stop()}}),s)})))()}}),computed:(0,l.Z)({},(0,d.rn)(["squareUrl"]))},v=p,h=s(1001),b=(0,h.Z)(v,u,c,!1,null,"58969830",null),_=b.exports,f={name:"albumDetil",data:function(){return{albumData:{},albumComment:[],otherAlbum:{},isShow:!1}},components:{AlbumDetilItem:_},methods:{getData:function(){var t=this;return(0,r.Z)((0,i.Z)().mark((function a(){var s,e,n;return(0,i.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,(0,m.QK)({id:t.$route.query.id});case 2:return s=a.sent,t.albumData=s.data,a.next=6,(0,m.DI)({id:t.$route.query.id});case 6:return e=a.sent,t.albumComment=e.data,a.next=10,(0,m.nj)({id:s.data.album.artist.id,limit:10});case 10:n=a.sent,t.otherAlbum=n.data.hotAlbums;case 12:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;return(0,r.Z)((0,i.Z)().mark((function a(){return(0,i.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.getData(),t.isShow=!0;case 2:case"end":return a.stop()}}),a)})))()},watch:{$route:function(){this.getData()}}},C=f,w=(0,h.Z)(C,e,n,!1,null,null,null),y=w.exports}}]);
//# sourceMappingURL=698-legacy.9d33635b.js.map