"use strict";(self["webpackChunkwymusic"]=self["webpackChunkwymusic"]||[]).push([[148],{9028:function(t,s,a){a.d(s,{Z:function(){return m}});var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"center"},[t._m(0),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.playListMusic,stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),a("el-table-column",{attrs:{label:"歌名",width:"200"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("div",{staticClass:"musicItem",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.$router.push({path:"/discover/music",query:{id:s.row.id}})}}},[t._v(" "+t._s(s.row.name)+" ")])]}}])}),a("el-table-column",{attrs:{label:"作者",width:"200"},scopedSlots:t._u([{key:"default",fn:function(s){return[t.program?a("div",{staticClass:"musicItem",on:{click:function(a){return t.$router.push({path:"/discover/singer",query:{id:s.row.artists[0].id}})}}},[t._v(" "+t._s(s.row.artists[0].name)+" ")]):a("div",{staticClass:"musicItem",on:{click:function(a){return t.$router.push({path:"/discover/singer",query:{id:s.row.ar[0].id}})}}},[t._v(" "+t._s(s.row.ar[0].name)+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("i",{staticClass:"el-icon-video-play",attrs:{title:"播放"},on:{click:function(a){return t.musicItemPush(s.$index)}}}),a("i",{staticClass:"el-icon-share",attrs:{title:"分享"}}),a("i",{staticClass:"el-icon-download",attrs:{title:"下载"}})]}}])})],1)],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"header"},[a("h3",[t._v("歌曲列表")])])}],n=a(5598),r=a(629),c={data(){return{}},props:{playListMusic:{type:Array,deep:!0},program:{type:Boolean}},methods:{...(0,r.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"]),async musicItemPush(t){let s=this.playListMusic[t].id;const a=await(0,n._z)({id:s});this.musicUrlFn(a.data.data[0]);const e=await(0,n.Hk)({ids:s});this.musicDetailFn(e.data.songs[0]),this.musicItemFn(e.data.songs[0])}}},o=c,l=a(1001),u=(0,l.Z)(o,e,i,!1,null,"32c6347d",null),m=u.exports},2148:function(t,s,a){a.r(s),a.d(s,{default:function(){return d}});var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"box"},[t.flag?a("div",{staticClass:"container"},[a("div",{staticClass:"left"},[a("div",{staticClass:"header"},[a("div",{staticClass:"left"},[a("img",{attrs:{src:t.programData.coverUrl,alt:"a"}})]),a("div",{staticClass:"right"},[a("h3",[t._v(t._s(t.programData.name))]),a("div",{staticClass:"auther"},[t.programData.dj.brand?a("p",[t._v(t._s(t.programData.dj.brand))]):t._e()]),a("div",{staticClass:"btn"},[a("button",[a("i",{staticClass:"el-icon-video-play",on:{click:t.playMusicFn}},[t._v(" 播放")])]),t._m(0),a("button",[a("i",{staticClass:"el-icon-share"},[t._v(" ("+t._s(t.programData.shareCount)+") ")])]),t._m(1)]),a("p",{staticClass:"text",domProps:{innerHTML:t._s(t.programData.description)}})])]),a("MusicList",{attrs:{playListMusic:t.programData.songs,program:!0}}),a("div",{staticClass:"footer center"},[t._m(2),a("div",{staticClass:"userText"},[a("img",{attrs:{src:t.squareUrl,alt:""}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"usertext",cols:"30",rows:"10"},domProps:{value:t.content},on:{input:function(s){s.target.composing||(t.content=s.target.value)}}}),a("button",{on:{click:t.addCommentFn}},[t._v("评论")])]),a("div",{staticClass:"footer"},[a("h4",[t._v("最热评论("+t._s(t.proComment.hotComments.length)+")")]),a("ul",t._l(t.proComment.hotComments,(function(s){return a("li",{key:s.commentId},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}}),a("p",{staticClass:"name"},[t._v(" "+t._s(s.user.nickname)+" ")]),a("span",{staticClass:"content"},[t._v(t._s(s.content))]),a("span",{staticClass:"time"},[t._v(t._s(s.timeStr))]),a("div",{staticClass:"fun"},[a("i",{staticClass:"el-icon-thumb"}),a("span",{staticClass:"back"},[t._v("("+t._s(s.likedCount)+") | 回复")])])])})),0),a("h4",[t._v("最新评论("+t._s(t.proComment.comments.length)+")")]),a("ul",t._l(t.proComment.comments,(function(s){return a("li",{key:s.commentId},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}}),a("p",{staticClass:"name"},[t._v(" "+t._s(s.user.nickname)+" ")]),a("span",{staticClass:"content"},[t._v(t._s(s.content))]),a("span",{staticClass:"time"},[t._v(t._s(s.timeStr))]),a("div",{staticClass:"fun"},[a("i",{staticClass:"el-icon-thumb"}),a("span",{staticClass:"back"},[t._v("("+t._s(s.likedCount)+") | 回复")])])])})),0)])])],1)]):t._e()])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("button",[a("i",{staticClass:"el-icon-folder-add"})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("button",[a("i",{staticClass:"el-icon-chat-line-square"})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"header"},[a("h3",[t._v("评论")])])}],n=a(5598),r=a(629),c=a(9028),o={name:"playDetilitem",data(){return{programData:{},proComment:[],flag:!1,content:""}},components:{MusicList:c.Z},async created(){const t=await(0,n.c$)({id:this.$route.query.id});this.programData=t.data.program;const s=await(0,n.AW)({id:this.$route.query.id});this.proComment=s.data,this.flag=!0},methods:{...(0,r.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"]),async playMusicFn(){if(this.programData.songs.length>0){this.clearMusicListFn();let t=this.programData.songs[0].id;const s=await(0,n._z)({id:t});this.musicUrlFn(s.data.data[0]);const a=await(0,n.Hk)({ids:t});this.musicDetailFn(a.data.songs[0]),this.musicItemFn(a.data.songs[0])}},async addCommentFn(){if(""!=this.content){let t=this.$route.query.id;await(0,n.Sj)({type:0,id:t,content:this.content});this.content="",localStorage.getItem("userid")?this.$notify({message:"评论成功",type:"success"}):this.$notify.error({message:"评论失败,请登录"});const s=await(0,n.AW)({id:t});this.proComment=s.data}}},computed:{...(0,r.rn)(["squareUrl"])}},l=o,u=a(1001),m=(0,u.Z)(l,e,i,!1,null,"32e4a430",null),d=m.exports}}]);
//# sourceMappingURL=148.9cf92f61.js.map