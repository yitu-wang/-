"use strict";(self["webpackChunkwymusic"]=self["webpackChunkwymusic"]||[]).push([[812],{9028:function(t,e,s){s.d(e,{Z:function(){return v}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"center"},[t._m(0),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.playListMusic,stripe:""}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),s("el-table-column",{attrs:{label:"歌名",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"musicItem",staticStyle:{cursor:"pointer"},on:{click:function(s){return t.$router.push({path:"/discover/music",query:{id:e.row.id}})}}},[t._v(" "+t._s(e.row.name)+" ")])]}}])}),s("el-table-column",{attrs:{label:"作者",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.program?s("div",{staticClass:"musicItem",on:{click:function(s){return t.$router.push({path:"/discover/singer",query:{id:e.row.artists[0].id}})}}},[t._v(" "+t._s(e.row.artists[0].name)+" ")]):s("div",{staticClass:"musicItem",on:{click:function(s){return t.$router.push({path:"/discover/singer",query:{id:e.row.ar[0].id}})}}},[t._v(" "+t._s(e.row.ar[0].name)+" ")])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("i",{staticClass:"el-icon-video-play",attrs:{title:"播放"},on:{click:function(s){return t.musicItemPush(e.$index)}}}),s("i",{staticClass:"el-icon-share",attrs:{title:"分享"}}),s("i",{staticClass:"el-icon-download",attrs:{title:"下载"}})]}}])})],1)],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("h3",[t._v("歌曲列表")])])}],i=s(1863),r=s(9873),c=s(1797),l=s(5598),u=s(629),o={data:function(){return{}},props:{playListMusic:{type:Array,deep:!0},program:{type:Boolean}},methods:(0,c.Z)((0,c.Z)({},(0,u.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"])),{},{musicItemPush:function(t){var e=this;return(0,r.Z)((0,i.Z)().mark((function s(){var a,n,r;return(0,i.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.playListMusic[t].id,s.next=3,(0,l._z)({id:a});case 3:return n=s.sent,e.musicUrlFn(n.data.data[0]),s.next=7,(0,l.Hk)({ids:a});case 7:r=s.sent,e.musicDetailFn(r.data.songs[0]),e.musicItemFn(r.data.songs[0]);case 10:case"end":return s.stop()}}),s)})))()}})},m=o,d=s(1001),p=(0,d.Z)(m,a,n,!1,null,"32c6347d",null),v=p.exports},6812:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("div",{staticClass:"container"},[s("div",{staticClass:"left"},[s("div",{staticClass:"header"},[t.flag?s("div",{staticClass:"left"},[s("img",{attrs:{src:t.playDetail.coverImgUrl,alt:""}})]):t._e(),s("div",{staticClass:"right"},[s("h3",[t._v(t._s(t.playDetail.name))]),t.flag?s("div",{staticClass:"auther"},[s("img",{attrs:{src:t.playDetail.creator.avatarUrl,alt:""}}),s("p",[t._v(t._s(t.playDetail.creator.nickname))])]):t._e(),s("div",{staticClass:"btn"},[s("button",[s("i",{staticClass:"el-icon-video-play",on:{click:t.playMusicFn}},[t._v(" 播放")])]),t._m(0),t._m(1),s("button",[s("i",{staticClass:"el-icon-chat-line-square"},[t._v(" ("+t._s(t.playDetail.commentCount)+")")])])]),t.playDetail.tags!=[]?s("div",{staticClass:"tip"},[s("p",[t._v("标签 :")]),t._l(t.playDetail.tags,(function(e,a){return s("button",{key:a+"tags"},[t._v(" "+t._s(e)+" ")])}))],2):t._e(),t.flag?s("p",{staticClass:"text",domProps:{innerHTML:t._s(t.playDetail.creator.signature)}}):t._e()])]),s("MusicList",{attrs:{playListMusic:t.playListMusic}}),s("div",{staticClass:"footer center"},[t._m(2),s("div",{staticClass:"userText"},[s("img",{attrs:{src:t.squareUrl,alt:""}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"usertext",cols:"30",rows:"10"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),s("button",{on:{click:t.addCommentFn}},[t._v("评论")])]),t.commentList.hotComments?s("div",{staticClass:"footer"},[s("h4",[t._v("最热评论("+t._s(t.commentList.hotComments.length)+")")]),s("ul",t._l(t.commentList.hotComments,(function(e){return s("li",{key:e.commentId},[s("img",{attrs:{src:e.user.avatarUrl,alt:""}}),s("p",{staticClass:"name"},[t._v(t._s(e.user.nickname))]),s("span",{staticClass:"content"},[t._v(t._s(e.content))]),s("span",{staticClass:"time"},[t._v(t._s(e.timeStr))]),s("div",{staticClass:"fun"},[s("i",{staticClass:"el-icon-thumb"}),s("span",{staticClass:"back"},[t._v("("+t._s(e.likedCount)+") | 回复")])])])})),0),s("h4",[t._v("最新评论("+t._s(t.commentList.comments.length)+")")]),s("ul",t._l(t.commentList.comments,(function(e){return s("li",{key:e.commentId},[s("img",{attrs:{src:e.user.avatarUrl,alt:""}}),s("p",{staticClass:"name"},[t._v(t._s(e.user.nickname))]),s("span",{staticClass:"content"},[t._v(t._s(e.content))]),s("span",{staticClass:"time"},[t._v(t._s(e.timeStr))]),s("div",{staticClass:"fun"},[s("i",{staticClass:"el-icon-thumb"}),s("span",{staticClass:"back"},[t._v("("+t._s(e.likedCount)+") | 回复")])])])})),0)]):t._e()])],1)])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",[s("i",{staticClass:"el-icon-folder-add"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",[s("i",{staticClass:"el-icon-share"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("h3",[t._v("评论")])])}],i=s(1797),r=s(1863),c=s(9873),l=s(5598),u=s(629),o=s(9028),m={name:"myPlayList",data:function(){return{content:"",playDetail:{},commentList:[],playListMusic:[],flag:!1}},components:{MusicList:o.Z},created:function(){var t=this;return(0,c.Z)((0,r.Z)().mark((function e(){var s,a,n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.$route.query.id,e.next=3,(0,l.Gj)({id:s});case 3:return a=e.sent,t.playDetail=a.data.playlist,t.flag=!0,e.next=8,(0,l.L5)({id:s});case 8:return n=e.sent,t.commentList=n.data,e.next=12,(0,l.d6)({id:s});case 12:i=e.sent,t.playListMusic=i.data.songs,a.data.playlist.trackIds;case 15:case"end":return e.stop()}}),e)})))()},methods:(0,i.Z)((0,i.Z)({},(0,u.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"])),{},{formatDate:function(t){var e=new Date(t),s=e.getFullYear(),a=e.getMonth(),n=e.getDate();e.getHours(),e.getMinutes(),e.getSeconds();return s+"-"+a+"-"+n},playMusicFn:function(){var t=this;return(0,c.Z)((0,r.Z)().mark((function e(){var s,a,n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.clearMusicListFn(),t.musicListFn(t.playListMusic),s=t.playListMusic[0].id,e.next=5,(0,l._z)({id:s});case 5:return a=e.sent,t.musicUrlFn(a.data.data[0]),e.next=9,(0,l.Hk)({ids:s});case 9:n=e.sent,t.musicDetailFn(n.data.songs[0]),t.musicItemFn(n.data.songs[0]);case 12:case"end":return e.stop()}}),e)})))()},addCommentFn:function(){var t=this;return(0,c.Z)((0,r.Z)().mark((function e(){var s;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""==t.content){e.next=7;break}return s=t.$route.query.id,e.next=4,(0,l.Sj)({type:2,id:s,content:t.content});case 4:e.sent,t.content="",localStorage.getItem("userid")?t.$notify({message:"评论成功",type:"success"}):t.$notify.error({message:"评论失败"});case 7:case"end":return e.stop()}}),e)})))()}}),computed:(0,i.Z)({},(0,u.rn)(["squareUrl"])),watch:{"$route.query.id":function(){var t=this;return(0,c.Z)((0,r.Z)().mark((function e(){var s,a,n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.query.id){e.next=15;break}return s=t.$route.query.id,e.next=4,(0,l.Gj)({id:s});case 4:return a=e.sent,t.playDetail=a.data.playlist,t.flag=!0,e.next=9,(0,l.L5)({id:s});case 9:return n=e.sent,t.commentList=n.data,e.next=13,(0,l.d6)({id:s});case 13:i=e.sent,t.playListMusic=i.data.songs;case 15:case"end":return e.stop()}}),e)})))()}}},d=m,p=s(1001),v=(0,p.Z)(d,a,n,!1,null,"cbe4e828",null),f=v.exports}}]);
//# sourceMappingURL=812-legacy.5c622d4c.js.map