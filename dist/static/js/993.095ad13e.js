"use strict";(self["webpackChunkwymusic"]=self["webpackChunkwymusic"]||[]).push([[993],{9028:function(t,s,a){a.d(s,{Z:function(){return m}});var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"center"},[t._m(0),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.playListMusic,stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),a("el-table-column",{attrs:{label:"歌名",width:"200"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("div",{staticClass:"musicItem",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.$router.push({path:"/discover/music",query:{id:s.row.id}})}}},[t._v(" "+t._s(s.row.name)+" ")])]}}])}),a("el-table-column",{attrs:{label:"作者",width:"200"},scopedSlots:t._u([{key:"default",fn:function(s){return[t.program?a("div",{staticClass:"musicItem",on:{click:function(a){return t.$router.push({path:"/discover/singer",query:{id:s.row.artists[0].id}})}}},[t._v(" "+t._s(s.row.artists[0].name)+" ")]):a("div",{staticClass:"musicItem",on:{click:function(a){return t.$router.push({path:"/discover/singer",query:{id:s.row.ar[0].id}})}}},[t._v(" "+t._s(s.row.ar[0].name)+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("i",{staticClass:"el-icon-video-play",attrs:{title:"播放"},on:{click:function(a){return t.musicItemPush(s.$index)}}}),a("i",{staticClass:"el-icon-share",attrs:{title:"分享"}}),a("i",{staticClass:"el-icon-download",attrs:{title:"下载"}})]}}])})],1)],1)},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"header"},[a("h3",[t._v("歌曲列表")])])}],n=a(5598),l=a(629),c={data(){return{}},props:{playListMusic:{type:Array,deep:!0},program:{type:Boolean}},methods:{...(0,l.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"]),async musicItemPush(t){let s=this.playListMusic[t].id;const a=await(0,n._z)({id:s});this.musicUrlFn(a.data.data[0]);const i=await(0,n.Hk)({ids:s});this.musicDetailFn(i.data.songs[0]),this.musicItemFn(i.data.songs[0])}}},r=c,o=a(1001),u=(0,o.Z)(r,i,e,!1,null,"32c6347d",null),m=u.exports},4993:function(t,s,a){a.r(s),a.d(s,{default:function(){return C}});var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"box"},[t.isShow?a("PlayDetilItem",{attrs:{playListData:t.playListData,playListMusic:t.playListMusic,playComment:t.playComment,relatedPlay:t.relatedPlay}}):t._e()],1)},e=[],n=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"box"},[a("div",{staticClass:"container"},[a("div",{staticClass:"left"},[a("div",{staticClass:"header"},[a("div",{staticClass:"left"},[a("img",{attrs:{src:t.playListData.coverImgUrl,alt:""}})]),a("div",{staticClass:"right"},[a("h3",[t._v(t._s(t.playListData.name))]),a("div",{staticClass:"auther"},[a("img",{attrs:{src:t.playListData.creator.avatarUrl,alt:""}}),a("p",[t._v(t._s(t.playListData.creator.nickname))]),a("span",[t._v(t._s(t.formatDate(t.playListData.createTime))+" 创建")])]),a("div",{staticClass:"btn"},[a("button",[a("i",{staticClass:"el-icon-video-play",on:{click:t.playMusicFn}},[t._v(" 播放")])]),a("button",[a("i",{staticClass:"el-icon-folder-add"},[t._v(" ("+t._s(t.playListData.commentCount)+")")])]),t._m(0),a("button",[a("i",{staticClass:"el-icon-chat-line-square"},[t._v(" ("+t._s(t.playListData.subscribedCount)+")")])])]),a("div",{staticClass:"tip"},[a("p",[t._v("标签 :")]),t._l(t.playListData.tags,(function(s,i){return a("button",{key:i+"tags"},[t._v(" "+t._s(s)+" ")])}))],2),a("p",{staticClass:"text",domProps:{innerHTML:t._s(t.playListData.description)}})])]),a("MusicList",{attrs:{playListMusic:t.playListMusic}}),a("div",{staticClass:"footer center"},[t._m(1),a("div",{staticClass:"userText"},[a("img",{attrs:{src:t.squareUrl,alt:""}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"usertext",cols:"30",rows:"10"},domProps:{value:t.content},on:{input:function(s){s.target.composing||(t.content=s.target.value)}}}),a("button",{on:{click:t.addCommentFn}},[t._v("评论")])]),a("div",{staticClass:"footer"},[a("h4",[t._v("最热评论("+t._s(t.playComment.hotComments.length)+")")]),a("ul",t._l(t.playComment.hotComments,(function(s){return a("li",{key:s.commentId},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}}),a("p",{staticClass:"name"},[t._v(" "+t._s(s.user.nickname)+" ")]),a("span",{staticClass:"content"},[t._v(t._s(s.content))]),a("span",{staticClass:"time"},[t._v(t._s(s.timeStr))]),a("div",{staticClass:"fun"},[a("i",{staticClass:"el-icon-thumb"}),a("span",{staticClass:"back"},[t._v("("+t._s(s.likedCount)+") | 回复")])])])})),0),a("h4",[t._v("最新评论("+t._s(t.playComment.comments.length)+")")]),a("ul",t._l(t.playComment.comments,(function(s){return a("li",{key:s.commentId},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}}),a("p",{staticClass:"name"},[t._v(" "+t._s(s.user.nickname)+" ")]),a("span",{staticClass:"content"},[t._v(t._s(s.content))]),a("span",{staticClass:"time"},[t._v(t._s(s.timeStr))]),a("div",{staticClass:"fun"},[a("i",{staticClass:"el-icon-thumb"}),a("span",{staticClass:"back"},[t._v("("+t._s(s.likedCount)+") | 回复")])])])})),0)])])],1),a("div",{staticClass:"right"},[a("h4",[t._v("   喜欢这个歌单的人")]),a("ul",t._l(t.playListData.subscribers,(function(t){return a("li",{key:t.id,staticClass:"imgLi"},[a("img",{attrs:{src:t.avatarUrl,alt:""}})])})),0),a("h4",[t._v("   热门歌单")]),a("ul",t._l(t.relatedPlay,(function(s){return a("li",{key:s.id,on:{click:function(a){return t.$router.push({path:"/discover/playdetil",query:{id:s.id}})}}},[a("img",{attrs:{src:s.coverImgUrl,alt:""}}),a("h5",[t._v(t._s(s.name))]),a("span",[t._v("by: "+t._s(s.creator.nickname))])])})),0)])])])},l=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("button",[a("i",{staticClass:"el-icon-share"})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"header"},[a("h3",[t._v("评论")])])}],c=a(5598),r=a(629),o=a(9028),u={name:"playDetilitem",data(){return{content:""}},components:{MusicList:o.Z},props:{playListData:{type:Object,deep:!0},playListMusic:{type:Array,deep:!0},playComment:{type:Object,deep:!0},relatedPlay:{type:Array,deep:!0}},methods:{...(0,r.OI)(["musicListFn","musicUrlFn","musicDetailFn","musicItemFn","clearMusicListFn"]),formatDate(t){let s=new Date(t),a=s.getFullYear(),i=s.getMonth(),e=s.getDate();s.getHours(),s.getMinutes(),s.getSeconds();return a+"-"+i+"-"+e},async playMusicFn(){this.clearMusicListFn(),this.musicListFn(this.playListMusic);let t=this.playListMusic[0].id;const s=await(0,c._z)({id:t});this.musicUrlFn(s.data.data[0]);const a=await(0,c.Hk)({ids:t});this.musicDetailFn(a.data.songs[0]),this.musicItemFn(a.data.songs[0])},async addCommentFn(){if(""!=this.content){let t=this.$route.query.id;await(0,c.Sj)({type:2,id:t,content:this.content});this.content="",localStorage.getItem("userid")?this.$notify({message:"评论成功",type:"success"}):this.$notify.error({message:"评论失败"})}}},computed:{...(0,r.rn)(["squareUrl"])}},m=u,d=a(1001),p=(0,d.Z)(m,n,l,!1,null,"365062e4",null),y=p.exports,h={name:"playDetil",components:{PlayDetilItem:y},created(){this.musicListTotail()},data(){return{playListData:{},playListMusic:[],playComment:{},relatedPlay:[],isShow:!1}},methods:{async musicListTotail(){const t=await(0,c.Gj)({id:this.$route.query.id});this.playListData=t.data.playlist;const s=await(0,c.d6)({id:this.$route.query.id});this.playListMusic=s.data.songs;const a=await(0,c.L5)({id:this.$route.query.id});this.playComment=a.data;const i=await(0,c.Ap)({id:this.$route.query.id});this.relatedPlay=i.data.playlists,this.isShow=!0}},watch:{$route(){this.musicListTotail()}}},_=h,v=(0,d.Z)(_,i,e,!1,null,"5e784dee",null),C=v.exports}}]);
//# sourceMappingURL=993.095ad13e.js.map