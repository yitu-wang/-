"use strict";(self["webpackChunkwymusic"]=self["webpackChunkwymusic"]||[]).push([[897],{1388:function(t,e,a){a.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{attrs:{src:t.item.blurPicUrl}}),a("a",{attrs:{href:"javascript:;"}}),a("p",[t._v(t._s(t.item.name))]),a("p",[t._v(t._s(t.item.artist.name))])])},r=[],s={name:"albumItem",props:{item:{}}},i=s,u=a(1001),l=(0,u.Z)(i,n,r,!1,null,"770d0fb8",null),c=l.exports},3897:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"album"},[a("div",{staticClass:"hot"},[a("h3",[t._v("热门新碟")]),t.flag?a("el-skeleton",{attrs:{rows:6,animated:""}}):t._e(),a("ul",t._l(t.albumHotList,(function(e){return a("li",{key:e.id,on:{click:function(a){return t.$router.push({path:"/discover/albumdetail",query:{id:e.id}})}}},[a("albumItem",{staticClass:"albumItem",attrs:{item:e}})],1)})),0)],1),a("div",{staticClass:"hot"},[a("h3",[t._v(" 全部新碟 "),t._l(t.catList,(function(e,n){return a("span",{key:n,class:{check:n===t.idx},on:{click:function(a){return t.checkCatFn(n,e)}}},[t._v(t._s(e))])}))],2),t.flag?a("el-skeleton",{attrs:{rows:7,animated:""}}):t._e(),a("ul",t._l(t.tolAlbumList,(function(e){return a("li",{key:e.id,on:{click:function(a){return t.$router.push({path:"/discover/albumdetail",query:{id:e.id}})}}},[a("albumItem",{staticClass:"albumItem",attrs:{item:e}})],1)})),0),a("el-pagination",{attrs:{"page-size":20,"current-page":t.pages,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.changeFn}})],1)])},r=[],s=a(1863),i=a(9873),u=(a(7042),a(5598)),l=a(1388),c={components:{albumItem:l.Z},created:function(){var t=this;return(0,i.Z)((0,s.Z)().mark((function e(){var a,n;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Om)({limit:10,type:"hot"});case 2:return a=e.sent,t.albumHotList=a.data.weekData.slice(0,10),e.next=6,(0,u.p1)({limit:20,offset:0});case 6:n=e.sent,t.tolAlbumList=n.data.albums,t.total=n.data.total,t.flag=!1;case 10:case"end":return e.stop()}}),e)})))()},data:function(){return{albumHotList:[],tolAlbumList:[],total:0,offset:0,catList:["全部","华语","欧美","韩国","日本"],idx:0,area:"ALL",pages:1,flag:!0}},methods:{changeFn:function(t){var e=this;return(0,i.Z)((0,s.Z)().mark((function a(){var n;return(0,s.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.pages=t,e.offset=t-1,a.next=4,(0,u.p1)({limit:20,offset:20*e.offset,area:e.area});case 4:n=a.sent,e.total=n.data.total,e.tolAlbumList=n.data.albums;case 7:case"end":return a.stop()}}),a)})))()},checkCatFn:function(t,e){var a=this;return(0,i.Z)((0,s.Z)().mark((function n(){var r;return(0,s.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.pages=1,a.idx=t,"华语"==e?a.area="ZH":"全部"==e?a.area="ALL":"欧美"==e?a.area="EA":"韩国"==e?a.area="KR":"日本"==e&&(a.area="JP"),n.next=5,(0,u.p1)({limit:20,offset:20*a.offset,area:a.area});case 5:r=n.sent,a.total=r.data.total,a.tolAlbumList=r.data.albums;case 8:case"end":return n.stop()}}),n)})))()}}},o=c,m=a(1001),f=(0,m.Z)(o,n,r,!1,null,"ba65d676",null),d=f.exports}}]);
//# sourceMappingURL=897-legacy.e34b4336.js.map